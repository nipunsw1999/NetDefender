# Open the image file and extract hidden data
with open("malicious_image.png", "rb") as f:
    data = f.read()

# PNG file end marker
png_end_marker = b"\x49\x45\x4E\x44\xAE\x42\x60\x82"  

if png_end_marker in data:
    index = data.find(png_end_marker) + len(png_end_marker)
    hidden_payload = data[index:]

    # Save the extracted script
    with open("extracted_script.py", "wb") as script_file:
        script_file.write(hidden_payload)

    print("Extracted script saved as 'extracted_script.py'")
else:
    print("No hidden data found!")

